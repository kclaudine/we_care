{% extends 'base.html' %}

{% load crispy_forms_tags %}

{% block content %}
<style>
  .jumbotron {
    color: rgb(245, 246, 248);
  }

  .card-img-top {
    height: 30vh;
  }
</style>
<div class="jumbotron text-center"
  style="background-image: url('https://content.fortune.com/wp-content/uploads/2019/06/lan07.19-landlord-houses-featured.jpg'); background-repeat: no-repeat; background-size: cover">
  <h1 class="display-4 ">Welcome to Buy/Rent/Sell - Care </h1>
  <p class="lead text-light" style="text-shadow: 1px 1px rgb(48, 47, 47);"> <b> Whether youâ€™re buying, selling or
      renting, we can help you move forward.</b></p>
  <hr class="my-4">
  <p class="text-light" style="text-shadow: 1px 1px rgb(54, 54, 54);"> <b> Choose your desire </b> </p>
  <p class="lead">
    <a class="btn btn-primary btn-sm" href="{% url 'house_sell' %}" role="button">Buy</a>
    <a class="btn btn-primary btn-sm" href="{% url 'house_rent' %}" role="button">Rent</a>
    <a class="btn btn-primary btn-sm" href="{% url 'sell' %}" role="button">Sell</a>
  </p>
</div>

<div class="container mx-auto mt-5 mb-5">
  <form method="get">
    {% csrf_token %}

    <div class="row justify-content-center">
      <div class="form-group col-md-1 mb-0">
        {{ filter.form.district|as_crispy_field }}
      </div>
      <div class="form-group col-md-1 mb-0">
        {{ filter.form.sector|as_crispy_field }}
      </div>
      <div class="form-group col-md-1 mb-0">
        {{ filter.form.action|as_crispy_field }}
      </div>
      <div class="form-group col-md-1 mb-0">
        {{ filter.form.type|as_crispy_field }}
      </div>
      <div class="form-group col-md-1 mb-0">
        {{ filter.form.beds|as_crispy_field }}
      </div>
      <div class="form-group col-md-1 mb-0">
        {{ filter.form.baths|as_crispy_field }}
      </div>
      <div class="form-group col-md-1 mb-0">
        <button type="submit" class="btn  btn-warning mt-4 ">Search</button>
      </div>
    </div>
  </form>
</div>
<div class="container">
  <h4 class="section-title">Houses</h4>
  <hr>
  <div class="row mb-2">
    <div class="col-md-9">
      <div class="row justify-content-center">
        {% if houses %}
        {% for pro in filter.qs %}
        <div class="card mr-2" style="width: 20rem;">
          <img class="card-img-top" src="{{pro.image.url}}" alt="Card image cap">

          <div class="card-body">
            <h5>{{pro.price}}Rwf</h5>
            <p class="card-text">Location:{{pro.district}},{{pro.sector}}, Type:{{pro.type}}, Rooms:{{pro.beds}},
              Baths:{{pro.baths}}</p>
              <a href="">For {{pro.action}}</a>
          </div>
        </div>
        {% endfor %}
        {% else %}
        <p>No houses</p>
        {% endif %}


      </div>
    </div>

  </div>

</div>
{% endblock %}