{% extends 'base.html' %}

{% load crispy_forms_tags %}

{% block content %}
<style>
  .jumbotron {
    color: rgb(245, 246, 248);
  }

  .card-img-top {
    height: 20vh;
  }

</style>
<div class="jumbotron text-center"
  style="background-image:linear-gradient(rgba(26, 114, 126, 0.9), rgba(85, 87, 87, 0.8)), url('https://content.fortune.com/wp-content/uploads/2019/06/lan07.19-landlord-houses-featured.jpg'); background-repeat: no-repeat; background-size: cover">
  <h1 class="display-4 ">Welcome to Buy/Rent/Sell - Care </h1>
  <p class="lead text-light lead"> <b> Whether youâ€™re buying, selling or
      renting, we can help you move forward.</b></p>
  <hr class="my-4">
  <p class="text-light lead"> <b> Choose your desire </b> </p>
  <p class="lead">
    <a class="btn btn-info btn-lg " href="{% url 'house_sell' %}" role="button">Buy</a>
    <a class="btn btn-outline-info btn-lg" href="{% url 'sell' %}" role="button">Sell</a>
    <a class="btn btn-info btn-lg " href="{% url 'house_rent' %}" role="button">Rent</a>

  </p>
</div>

<div class="container mx-auto mt-5 mb-5">
  <form method="get">
    {% csrf_token %}

    <div class="row justify-content-center">
      <div class="form-group col-md-1 mb-0">
        {{ filter.form.district|as_crispy_field }}
      </div>
      <div class="form-group col-md-1 mb-0">
        {{ filter.form.sector|as_crispy_field }}
      </div>
      <div class="form-group col-md-1 mb-0">
        {{ filter.form.action|as_crispy_field }}
      </div>
      <div class="form-group col-md-1 mb-0">
        {{ filter.form.type|as_crispy_field }}
      </div>
      <div class="form-group col-md-1 mb-0">
        {{ filter.form.beds|as_crispy_field }}
      </div>
      <div class="form-group col-md-1 mb-0">
        {{ filter.form.baths|as_crispy_field }}
      </div>
      <div class="form-group col-md-1 mb-0">
        <button type="submit" class="btn  btn-warning mt-4 ">Search</button>
      </div>
    </div>
  </form>
</div>
<div class="container">
  <h4 class="section-title">Houses</h4>
  <hr>
  <div class="row mb-2">
    <div class="col-md-12">
      <div class="row ">
        {% if houses %}
        {% for pro in filter.qs %}
        <div class="card m-2" style="width: 20rem;">
          <img class="card-img-top" src="{{pro.image.url}}" alt="Card image cap">

          <div class="card-body">
            <p><b>{{pro.type}}</b></p>
            <h5>{{pro.price}}Rwf</h5>
            <hr>
            <p class="card-text"><i class="fas fa-map-marker-alt"></i> {{pro.district}},{{pro.sector}}</p>
            <div class="d-flex">
              <p class="card-text mr-4"><i class="fas fa-bed"></i> {{pro.beds}} bedrooms</p>
              <p class="card-text"><i class="fas fa-bath"></i> {{pro.baths}} baths</p>
            </div>
            <a class="btn btn-outline-info" href="{% url 'house_details' pro.pk %}">For
              {{pro.action}}</a>
          </div>
        </div>

        {% endfor %}
        {% else %}
        <p>No houses</p>
        {% endif %}


      </div>
    </div>

  </div>

</div>

{% endblock %}